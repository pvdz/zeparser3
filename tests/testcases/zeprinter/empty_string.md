# ZeParser parser test case

- Path: tests/testcases/zeprinter/empty_string.md

> :: zeprinter
>
> ::> empty string
>
> By fuzzer original
>
> Error: Invalid regular expression: missing /

## Input

`````js
;with(this|new new(/^~/.xvl%=/((?!(?=)))+?/.nxam))do py:;while(void(null||(1.25E14)&&{}));(/[-$-\o{-\u1ef5]/,null,(.385627),--(/[^]|(?=[^)?-]?)|((?=))||[\
/x57-p[{[-\uFAa0[-[]|[^\0-c_-]*/?/\(?/:/(?:)/).tv)()
`````

## Output

_Note: the whole output block is auto-generated. Manual changes will be overwritten!_

Below follow outputs in four parsing modes: sloppy mode, strict mode script goal, module goal, web compat mode (always sloppy).

Note that the output parts are auto-generated by the test runner to reflect actual result.

### Sloppy mode

Parsed with script goal and as if the code did not start with strict mode header.

`````
throws: Tokenizer error!
    Regex: the char class had an escape that would not be valid with and without u-flag (ord=-2)

;with(this|new new(/^~/.xvl%=/((?!(?=)))+?/.nxam))do py:;while(void(null||(1.25E14)&&{}));(/[-$-\o{-\u1ef5]/,null,(.385627),--(/[^]|(?=[^)?-]?)|((?=))||[\
                                                                                           ^------- error

/x57-p[{[-\uFAa0[-[]|[^\0-c_-]*/?/\(?/:/(?:)/
`````

### Strict mode

Parsed with script goal but as if it was starting with `"use strict"` at the top.

`````
throws: Parser error!
  The `with` statement is not allowed in strict mode

;with(this|new new(/^~/.xvl%=/((?!(?=)))+?/.nxam))do py:;while(void(null||(1.25E14)&&{}));(/[-$-\o{-\u1ef5]/,null,(.385627),--(/[^]|(?=[^)?-]?)|((?=))||[\
 ^------- error

/x57-p[{[-\uFAa0[-[]|[^\0-c_-]*/?/\(?/:/(?:)/
`````


### Module goal

Parsed with the module goal.

_Output same as strict mode._

### Web compat mode

Parsed in sloppy script mode but with the web compat flag enabled.

`````
ast: {
  type: 'Program',
  loc:{start:{line:1,column:0},end:{line:1,column:207},source:''},
  body: [
    {
      type: 'EmptyStatement',
      loc:{start:{line:1,column:0},end:{line:1,column:1},source:''}
    },
    {
      type: 'WithStatement',
      loc:{start:{line:1,column:1},end:{line:1,column:90},source:''},
      object: {
        type: 'BinaryExpression',
        loc:{start:{line:1,column:6},end:{line:1,column:49},source:''},
        left: {
          type: 'ThisExpression',
          loc:{start:{line:1,column:6},end:{line:1,column:10},source:''}
        },
        operator: '|',
        right: {
          type: 'NewExpression',
          loc:{start:{line:1,column:11},end:{line:1,column:49},source:''},
          arguments: [],
          callee: {
            type: 'NewExpression',
            loc:{start:{line:1,column:15},end:{line:1,column:49},source:''},
            arguments: [],
            callee: {
              type: 'AssignmentExpression',
              loc:{start:{line:1,column:19},end:{line:1,column:48},source:''},
              left: {
                type: 'MemberExpression',
                loc:{start:{line:1,column:19},end:{line:1,column:27},source:''},
                object: {
                  type: 'Literal',
                  loc:{start:{line:1,column:19},end:{line:1,column:23},source:''},
                  value: null,
                  regex: { pattern: '^~', flags: '' },
                  raw: '/^~/'
                },
                property: {
                  type: 'Identifier',
                  loc:{start:{line:1,column:24},end:{line:1,column:27},source:''},
                  name: 'xvl'
                },
                computed: false
              },
              operator: '%=',
              right: {
                type: 'MemberExpression',
                loc:{start:{line:1,column:29},end:{line:1,column:48},source:''},
                object: {
                  type: 'Literal',
                  loc:{start:{line:1,column:29},end:{line:1,column:43},source:''},
                  value: null,
                  regex: { pattern: '((?!(?=)))+?', flags: '' },
                  raw: '/((?!(?=)))+?/'
                },
                property: {
                  type: 'Identifier',
                  loc:{start:{line:1,column:44},end:{line:1,column:48},source:''},
                  name: 'nxam'
                },
                computed: false
              }
            }
          }
        }
      },
      body: {
        type: 'DoWhileStatement',
        loc:{start:{line:1,column:50},end:{line:1,column:90},source:''},
        body: {
          type: 'LabeledStatement',
          loc:{start:{line:1,column:53},end:{line:1,column:57},source:''},
          label: {
            type: 'Identifier',
            loc:{start:{line:1,column:53},end:{line:1,column:55},source:''},
            name: 'py'
          },
          body: {
            type: 'EmptyStatement',
            loc:{start:{line:1,column:56},end:{line:1,column:57},source:''}
          }
        },
        test: {
          type: 'UnaryExpression',
          loc:{start:{line:1,column:63},end:{line:1,column:88},source:''},
          operator: 'void',
          prefix: true,
          argument: {
            type: 'LogicalExpression',
            loc:{start:{line:1,column:68},end:{line:1,column:87},source:''},
            left: {
              type: 'Literal',
              loc:{start:{line:1,column:68},end:{line:1,column:72},source:''},
              value: null,
              raw: 'null'
            },
            operator: '||',
            right: {
              type: 'LogicalExpression',
              loc:{start:{line:1,column:74},end:{line:1,column:87},source:''},
              left: {
                type: 'Literal',
                loc:{start:{line:1,column:75},end:{line:1,column:82},source:''},
                value: 125000000000000,
                raw: '1.25E14'
              },
              operator: '&&',
              right: {
                type: 'ObjectExpression',
                loc:{start:{line:1,column:85},end:{line:1,column:87},source:''},
                properties: []
              }
            }
          }
        }
      }
    },
    {
      type: 'ExpressionStatement',
      loc:{start:{line:1,column:90},end:{line:1,column:207},source:''},
      expression: {
        type: 'CallExpression',
        loc:{start:{line:1,column:90},end:{line:1,column:207},source:''},
        callee: {
          type: 'SequenceExpression',
          loc:{start:{line:1,column:91},end:{line:1,column:204},source:''},
          expressions: [
            {
              type: 'Literal',
              loc:{start:{line:1,column:91},end:{line:1,column:108},source:''},
              value: null,
              regex: { pattern: '[-$-\\o{-\\u1ef5]', flags: '' },
              raw: '/[-$-\\o{-\\u1ef5]/'
            },
            {
              type: 'Literal',
              loc:{start:{line:1,column:109},end:{line:1,column:113},source:''},
              value: null,
              raw: 'null'
            },
            {
              type: 'Literal',
              loc:{start:{line:1,column:115},end:{line:1,column:122},source:''},
              value: 0.385627,
              raw: '.385627'
            },
            {
              type: 'UpdateExpression',
              loc:{start:{line:1,column:124},end:{line:1,column:204},source:''},
              operator: '--',
              prefix: true,
              argument: {
                type: 'MemberExpression',
                loc:{start:{line:1,column:126},end:{line:1,column:204},source:''},
                object: {
                  type: 'ConditionalExpression',
                  loc:{start:{line:1,column:127},end:{line:1,column:200},source:''},
                  test: {
                    type: 'Literal',
                    loc:{start:{line:1,column:127},end:{line:1,column:187},source:''},
                    value: null,
                    regex: {
                      pattern: '[^]|(?=[^)?-]?)|((?=))||[\\\n' +
                        '/x57-p[{[-\\uFAa0[-[]|[^\\0-c_-]*',
                      flags: ''
                    },
                    raw: '/[^]|(?=[^)?-]?)|((?=))||[\\\n' +
                      '/x57-p[{[-\\uFAa0[-[]|[^\\0-c_-]*/'
                  },
                  consequent: {
                    type: 'Literal',
                    loc:{start:{line:1,column:188},end:{line:1,column:193},source:''},
                    value: null,
                    regex: { pattern: '\\(?', flags: '' },
                    raw: '/\\(?/'
                  },
                  alternate: {
                    type: 'Literal',
                    loc:{start:{line:1,column:194},end:{line:1,column:200},source:''},
                    value: null,
                    regex: { pattern: '(?:)', flags: '' },
                    raw: '/(?:)/'
                  }
                },
                property: {
                  type: 'Identifier',
                  loc:{start:{line:1,column:202},end:{line:1,column:204},source:''},
                  name: 'tv'
                },
                computed: false
              }
            }
          ]
        },
        arguments: []
      }
    }
  ]
}

tokens (60x):
       PUNCTUATOR IDENT PUNCTUATOR IDENT PUNCTUATOR IDENT IDENT
       PUNCTUATOR REGEX PUNCTUATOR IDENT PUNCTUATOR REGEX PUNCTUATOR
       IDENT PUNCTUATOR PUNCTUATOR IDENT IDENT PUNCTUATOR PUNCTUATOR
       IDENT PUNCTUATOR IDENT PUNCTUATOR IDENT PUNCTUATOR PUNCTUATOR
       NUMBER_DEC PUNCTUATOR PUNCTUATOR PUNCTUATOR PUNCTUATOR
       PUNCTUATOR PUNCTUATOR PUNCTUATOR PUNCTUATOR REGEX PUNCTUATOR
       IDENT PUNCTUATOR PUNCTUATOR NUMBER_DEC PUNCTUATOR PUNCTUATOR
       PUNCTUATOR PUNCTUATOR REGEX PUNCTUATOR REGEX PUNCTUATOR REGEX
       PUNCTUATOR PUNCTUATOR IDENT PUNCTUATOR PUNCTUATOR PUNCTUATOR
       ASI
`````


## AST Printer

Printer output different from input [web]:

````js
;
with (((this) | (new (new ((/^~/.xvl %= /((?!(?=)))+?/.nxam))())()))) do py: ; while (void (((null) || (((1.25E14) && ({}))))));
(((/[-$-\o{-\u1ef5]/, null, .385627, --((/[^]|(?=[^)?-]?)|((?=))||[\
/x57-p[{[-\uFAa0[-[]|[^\0-c_-]*/)? (/\(?/) : (/(?:)/)).tv))());
````

Produces same AST
